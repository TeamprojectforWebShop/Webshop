<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="common">

	
<!-- select	 -->

	<!-- 제품 상세페이지 문장 -->
	<select id="detailPage" parameterType="hashMap" resultType="hashMap">
		SELECT * 
		FROM test_goods
		where product_code = #{product_code}
	</select>
	
	<!-- 제품 리스트 문장 -->
	<select id="getList" parameterType="hashMap" resultType="hashmap">
		SELECT *
		FROM test_goods
	</select>
	
	<!-- 장바구니 -->
	<insert id="cart" parameterType="hashMap">
		insert into ${table} (id, product_code, size, color_name, count, price)
		values(
			#{id},
			#{product_code},
			#{size},
			#{color_name},
			#{count},
			#{price}
		)
	</insert>
	
	<!-- 구매페이지 미구현 -->
	<select id="pay" parameterType="hashMap" resultType="hashmap">
		select *
		from test_cart
	</select>
	
	<select id="search" parameterType="hashMap" resultType="hashmap">
		SELECT *
		FROM test_goods
			WHERE product_name LIKE concat('%',#{search},'%')
	</select>
	
	
	<select id="loginCheck" parameterType="hashMap" resultType="hashmap">
		SELECT * 
		FROM customer_manage
		WHERE id = #{id} AND pwd = #{pwd}
	</select>
	
<!-- insert	 -->

	<insert id="joinCheck" parameterType="hashMap" >
		insert into customer_manage (id, pwd, name, addr, addr2, addr3, addr4, addr5, contact, email, sex, birth)
			values(
					#{id},
					#{pwd},
					#{name},
					#{addr},
					#{addr2},
					#{addr3},
					#{addr4},
					#{addr5},
					#{contact},
					#{email},
					#{sex},
					#{birth}
				)
	</insert>
	
<!-- update	 -->
	<update id="updateMember" parameterType="hashMap">
	
	update customer_manage
	set
		pwd = #{pwd},
		name = #{name},
		addr = #{addr},
		addr2 = #{addr2},
		addr3 = #{addr3},
		addr4 = #{addr4},
		addr5 = #{addr5},
		contact = #{contact},
		email = #{email}
	where id = #{id}
	
	</update>
	
	
</mapper>

		
<!--	<select id="selectMyoderGoodsList" parameterType="hashMap" resultType="hashMap">
		상품 목록 저장한 테이블 넣기
	</select> -->